"use strict";!function(e,t,o){var l,n=e.getElementById("msg"),a=t.getItem("clashEditor:config:general"),c=o(e.getElementById("general-editor"),{lineNumbers:!0,mode:"yaml"});a&&""!==a&&c.setValue(a),e.getElementById("ce-general-btn-validate").addEventListener("click",function(){try{l=jsyaml.load(c.getValue());try{l.port&&l["socks-port"]&&"boolean"==typeof l["allow-lan"]?(setLS("clashEditor:config:general",c.getValue()),n.innerHTML='<span class="text-success">General 配置检查通过！</span>',e.getElementById("ce-general-btn-continue").classList.remove("disabled"),e.getElementById("ce-general-btn-continue").removeAttribute("disabled"),e.getElementById("ce-general-btn-continue").setAttribute("href","/proxy")):Modal("您的 General 配置不符合要求！","General 配置必须是合法的 YAML 格式，并且必须包括 <code>port</code>，<code>socks-port</code> 和 <code>allow-lan</code>")}catch(e){Modal("您的 General 配置不符合要求！","General 配置必须是合法的 YAML 格式，并且必须包括 <code>port</code>，<code>socks-port</code> 和 <code>allow-lan</code> 属性。")}}catch(e){Modal("这看起来不太正常","<p>Clash Editor 似乎不能解析您提交的 YAML 内容</p>\n                <p>报错信息如下所示：</p>\n                <p><code>".concat(e,"</code></p>\n                <p>如果您认为这不是您的问题，请在 Clash Editor 的 GitHub 上提交一条 issue，并在 issue 中附上报错信息以供调试</p>"))}})}(document,localStorage,CodeMirror);